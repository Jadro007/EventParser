(function(){window.cookiebar=function(){if(!document.body){setTimeout(function(){window.cookiebar();},1000);return;}
if(!visible){addCss();showCookiebar();attachEventHandlers();visible=true;}}
var title=window.customCookiesTitle||"<p>Pro správnou funkci tohoto webu a jeho další zlepšování používáme soubory cookies.</p>";var text=window.customCookiesText||"<h4>O cookies obecně</h4><p>Cookie je malý soubor, který se při návštěvě webové stránky může stáhnout a uložit na počítači, tabletu nebo mobilu uživatele. Slouží k usnadnění práce se stránkou (např. zapamatování obsahu nákupního košíku v e-shopu), uložení nastavení (např. volbu jazyka stránky), jiná cookies umožňují sledovat počty návštěvníků na stránkách a jejich pohyb mezi stránkami, a pomáhají tak při vylepšování stránek a podobně.</p><p>Exspirace: Některá cookies se ukládají jen po dobu návštěvy stránky (do zavření prohlížeče), jiná zůstávají uložena po delší dobu a jsou dostupná i při dalších návštěvách.</p><h4>Přehled cookies použitých na tomto webu</h4>";window.cookiebar.texts={main:title,accept:'Souhlasím',decline:'Povolit jen nutná cookies',moreInfo:'více informací a možností',lessInfo:'skrýt informace a možnosti',marketing:'Marketing',functionality:'Funkcionalita',tableHeading:'',tableName:'Jméno',tableExpiration:'Exspirace',tablePurpose:'Účel',tableDescription:'Popis',generalHeading:'',generalText:text,options:'Možnosti',optionsAccept:'Povolit všechny cookies',noExpiry:'Do zavření prohlížeče',cookies:{'_ga':'Používá se k rozeznávání uživatelů.','_gat':'Používá se ke kontrole počtu požadavků.','__utma':'Používá se k rozeznávání uživatelů.','__utmt':'Používá se ke kontrole počtu požadavků.','__utmb':'Používá se k určení nových sezení/návštěv.','__utmc':'Pokud se používá, pak kvůli spolupráci s urchin.js.','__utmz':'Používá se k uchování zdroje nebo kampaně a určuje, jak se uživatel dostal na stránku.','__utmv':'Používá se k nastavování přizpůsobených proměnných na úrovni uživatelů.'},years:function(value){return value===1?'rok':value>1&&value<5?'roky':'let';},months:function(value){return value===1?'měsíc':value>1&&value<5?'měsíce':'měsíců';},days:function(value){return value===1?'den':value>1&&value<5?'dny':'dnů';},hours:function(value){return value===1?'hodina':value>1&&value<5?'hodiny':'hodin';},minutes:function(value){return value===1?'minuta':value>1&&value<5?'minuty':'minut';},seconds:function(value){return value===1?'vteřina':value>1&&value<5?'vteřiny':'vteřin';}};window.cookiebar.cookies=(window.cookiebar.cookies||[]).concat([{name:'_ga',expires:'2y',marketing:true},{name:'_gat',expires:'10m',marketing:true}]);if(window.cookiebar&&window.cookiebar.cookies){for(var i=0;i<window.cookiebar.cookies.length;i++){var cookie=window.cookiebar.cookies[i];cookie.description=window.cookiebar.texts.cookies[cookie.name]||'';}}
var visible,conf={texts:window.cookiebar.texts,cookie:'mu-cookie-consent',lang:'cs',gid:'',isOptIn:false,isLight:true,isTop:false,isPush:true,url:''};window.cookiebar();function addCss(){getOrCreateElement('cookiebar-style','link',function(style){style.setAttribute('rel','stylesheet');style.setAttribute('href','https://cdn.muni.cz/scripts/libs/cookiebar/1.0/style.css');document.head.appendChild(style);});}
function showCookiebar(){var firstChild=document.body.firstChild;conf.content=getContent();document.body.insertBefore(conf.content,firstChild);var shadowContent=conf.content.cloneNode(true);shadowContent.classList.add('cookiebar-shadow');shadowContent.classList.add('cookiebar-flow');shadowContent.style.visibility='hidden';shadowContent.style.position='relative';if(!conf.isPush)return;if(conf.isTop){document.body.insertBefore(shadowContent,firstChild);}else{document.body.appendChild(shadowContent);}}
function getContent(){var bar=document.createElement('div');bar.style.display='none';bar.classList.add('cookiebar');bar.classList.add('cookiebar-'+(conf.isLight?'light':'dark'));if(conf.isTop){bar.classList.add('cookiebar-top');}
var buttons=document.createElement('div');buttons.classList.add('cookiebar-buttons');if(conf.isOptIn){var accept=document.createElement('button');accept.classList.add('accept');accept.textContent=conf.texts.accept;buttons.appendChild(accept);}else{var close=document.createElement('button');close.classList.add('close');close.innerHTML='&times;';buttons.appendChild(close);}
var content=document.createElement('div');content.classList.add('cookiebar-content');var text=document.createElement('div');text.classList.add('cookiebar-main');text.appendChild(buttons);text.innerHTML+=conf.texts.main+'<p>&mdash;&nbsp;<a href="#cookiebar-moreinfo">'+conf.texts.moreInfo+'</a></p>';content.appendChild(text);bar.appendChild(content);return bar;}
function acceptListener(e){setCookie(conf.cookie,1);hide(e);}
function declineListener(e){setCookie(conf.cookie,0);declineCookies(conf.cookie,conf.gid,conf.url);hide(e);}
function closeListener(e){setCookie(conf.cookie,1);hide(e);}
function moreInfoListener(e){var div=getOrCreateElement('cookiebar-moreinfo','div',function(div){div.classList.add('cookiebar-moreinfo');div.innerHTML='<h4>'+conf.texts.generalHeading+'</h4>'+conf.texts.generalText+'<h4>'+conf.texts.tableHeading+'</h4>';div.appendChild(createCookiesTable());if(conf.isOptIn){options=document.createElement('h4');options.textContent=conf.texts.options;var accept=document.createElement('button');accept.classList.add('accept');accept.textContent=conf.texts.optionsAccept;addEventListenerToElem(conf,accept,acceptListener);var decline=document.createElement('button');decline.classList.add('decline');decline.textContent=conf.texts.decline;addEventListenerToElem(conf,decline,declineListener);div.appendChild(options);div.appendChild(accept);div.appendChild(decline);}
conf.content.firstChild.appendChild(div);});if(e.target.textContent===conf.texts.moreInfo){e.target.textContent=conf.texts.lessInfo;div.style.display='block';}else{e.target.textContent=conf.texts.moreInfo;div.style.display='none';}}
function hide(e){var toRemove=document.querySelectorAll('.cookiebar');for(var i=0;i<toRemove.length;i++){document.body.removeChild(toRemove[i]);}
visible=false;}
function attachEventHandlers(){addEventListener(conf,'.cookiebar .accept',acceptListener);addEventListener(conf,'.cookiebar .close',closeListener);addEventListener(conf,'.cookiebar a[href="#cookiebar-moreinfo"]',moreInfoListener)}
function addEventListener(conf,selector,handler){var element=conf.content.querySelector(selector);if(element){element.addEventListener('click',function(e){e.preventDefault();handler(e,conf);});}}
function addEventListenerToElem(conf,element,handler){if(element){element.addEventListener('click',function(e){e.preventDefault();handler(e,conf);});}}
function setCookie(name,value){var date=new Date();date.setFullYear(date.getFullYear()+1);document.cookie=name+'='+value+'; expires='+date.toUTCString()+';';}
function getCookieValue(name){var pattern=RegExp(name+"=.[^;]*");var matched=document.cookie.match(pattern);if(matched){var cookie=matched[0].split('=');return cookie[1];}
return null;}
function getOrCreateElement(id,tag,createCb){var element=document.getElementById(id);if(!element){element=document.createElement(tag);element.setAttribute('id',id);createCb(element);}
return element;}
function getCookies(){var cookies=[];if(window.cookiebar.cookies){cookies=cookies.concat(window.cookiebar.cookies);}
if(window.customCookies){cookies=cookies.concat(window.customCookies);}
return cookies;}
function createCookiesTable(){function createTableRow(table,header,values){var row=document.createElement('tr');for(var i=0;i<values.length;i++){var cell=document.createElement(header?'th':'td');cell.innerHTML=values[i];row.appendChild(cell);}
table.appendChild(row);}
var table=document.createElement('table');createTableRow(table,true,[conf.texts.tableName,conf.texts.tableExpiration,conf.texts.tablePurpose,conf.texts.tableDescription]);var cookies=getCookies();getCookieData(conf.url,function(data){cookies=cookies.concat(data);},function(){for(var i=0;i<cookies.length;i++){var cookie=cookies[i];var desc=cookie.description[conf.lang]||cookie.description['en']||((typeof cookie.description)==='string'||cookie.description instanceof String?cookie.description:'');createTableRow(table,false,[cookie.name,parsePeriod(cookie.expires),cookie.marketing?conf.texts.marketing:conf.texts.functionality,desc]);}});return table;}
function parsePeriod(period){if(!period){return window.cookiebar.texts.noExpiry;}
var periodParts=period.match(/\d+|\w/g);var result='';for(var i=0;i<periodParts.length;i+=2){var value=parseInt(periodParts[i]);if(!isNaN(value))
{var periodAbbr=periodParts[i+1];if(value)result+=' ';result+=value+' '+getPeriodFunction(periodAbbr)(value);}
else
{result=period;break;}}
return result;}
function getPeriodFunction(abbr){var texts=window.cookiebar.texts;return abbr==='y'?texts.years:abbr==='M'?texts.months:abbr==='d'?texts.days:abbr==='h'?texts.hours:abbr==='m'?texts.minutes:abbr==='s'?texts.seconds:function(){return'';};}})();