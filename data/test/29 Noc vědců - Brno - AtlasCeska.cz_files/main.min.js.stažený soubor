function setCookie(t,e,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var s="expires="+n.toUTCString();document.cookie=t+"="+e+";"+s+";path=/"}function getCookie(t){for(var e=t+"=",i=decodeURIComponent(document.cookie),n=i.split(";"),s=0;s<n.length;s++){for(var o=n[s];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""}!function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper"],t):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=t(window.blueimp.helper||window.jQuery))}(function(t){"use strict";function e(t,i){return void 0===document.body.style.maxHeight?null:this&&this.options===e.prototype.options?t&&t.length?(this.list=t,this.num=t.length,this.initOptions(i),void this.initialize()):void this.console.log("blueimp Gallery: No or empty list provided as first argument.",t):new e(t,i)}return t.extend(e.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",displayTransition:!0,clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},console:window.console&&"function"==typeof window.console.log?window.console:{log:function(){}},support:function(e){var i={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},n={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}},s=function(){var t,n,s=i.transition;document.body.appendChild(e),s&&(t=s.name.slice(0,-9)+"ransform",void 0!==e.style[t]&&(e.style[t]="translateZ(0)",n=window.getComputedStyle(e).getPropertyValue(s.prefix+"transform"),i.transform={prefix:s.prefix,name:t,translate:!0,translateZ:!!n&&"none"!==n})),void 0!==e.style.backgroundSize&&(i.backgroundSize={},e.style.backgroundSize="contain",i.backgroundSize.contain="contain"===window.getComputedStyle(e).getPropertyValue("background-size"),e.style.backgroundSize="cover",i.backgroundSize.cover="cover"===window.getComputedStyle(e).getPropertyValue("background-size")),document.body.removeChild(e)};return function(t,i){var n;for(n in i)if(i.hasOwnProperty(n)&&void 0!==e.style[n]){t.transition=i[n],t.transition.name=n;break}}(i,n),document.body?s():t(document).on("DOMContentLoaded",s),i}(document.createElement("div")),requestAnimationFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame,initialize:function(){if(this.initStartIndex(),!1===this.initWidget())return!1;this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),this.options.startSlideshow&&this.play()},slide:function(t,e){window.clearTimeout(this.timeout);var i,n,s,o=this.index;if(o!==t&&1!==this.num){if(e||(e=this.options.transitionSpeed),this.support.transform){for(this.options.continuous||(t=this.circle(t)),i=Math.abs(o-t)/(o-t),this.options.continuous&&(n=i,(i=-this.positions[this.circle(t)]/this.slideWidth)!==n&&(t=-i*this.num+t)),s=Math.abs(o-t)-1;s;)s-=1,this.move(this.circle((t>o?t:o)-s-1),this.slideWidth*i,0);t=this.circle(t),this.move(o,this.slideWidth*i,e),this.move(t,0,e),this.options.continuous&&this.move(this.circle(t-i),-this.slideWidth*i,0)}else t=this.circle(t),this.animate(o*-this.slideWidth,t*-this.slideWidth,e);this.onslide(t)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(t){var e=this;window.clearTimeout(this.timeout),this.interval=t||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=this.setTimeout(!this.requestAnimationFrame&&this.slide||function(t,i){e.animationFrameId=e.requestAnimationFrame.call(window,function(){e.slide(t,i)})},[this.index+1,this.options.slideshowTransitionSpeed],this.interval)),this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.container.removeClass(this.options.playingClass)},add:function(t){var e;for(t.concat||(t=Array.prototype.slice.call(t)),this.list.concat||(this.list=Array.prototype.slice.call(this.list)),this.list=this.list.concat(t),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),e=this.num-t.length;e<this.num;e+=1)this.addSlide(e),this.positionSlide(e);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.slides=[]},handleClose:function(){var t=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(t.displayClass).removeClass(t.singleClass).removeClass(t.leftEdgeClass).removeClass(t.rightEdgeClass),t.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var t=this,e=function(i){i.target===t.container[0]&&(t.container.off(t.support.transition.end,e),t.handleClose())};this.options.onclose&&this.options.onclose.call(this),this.support.transition&&this.options.displayTransition?(this.container.on(this.support.transition.end,e),this.container.removeClass(this.options.displayClass)):this.handleClose()},circle:function(t){return(this.num+t%this.num)%this.num},move:function(t,e,i){this.translateX(t,e,i),this.positions[t]=e},translate:function(t,e,i,n){var s=this.slides[t].style,o=this.support.transition,r=this.support.transform;s[o.name+"Duration"]=n+"ms",s[r.name]="translate("+e+"px, "+i+"px)"+(r.translateZ?" translateZ(0)":"")},translateX:function(t,e,i){this.translate(t,e,0,i)},translateY:function(t,e,i){this.translate(t,0,e,i)},animate:function(t,e,i){if(!i)return void(this.slidesContainer[0].style.left=e+"px");var n=this,s=(new Date).getTime(),o=window.setInterval(function(){var r=(new Date).getTime()-s;if(r>i)return n.slidesContainer[0].style.left=e+"px",n.ontransitionend(),void window.clearInterval(o);n.slidesContainer[0].style.left=(e-t)*(Math.floor(r/i*100)/100)+t+"px"},4)},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},stopPropagation:function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},onresize:function(){this.initSlides(!0)},onmousedown:function(t){t.which&&1===t.which&&"VIDEO"!==t.target.nodeName&&(t.preventDefault(),(t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchstart(t))},onmousemove:function(t){this.touchStart&&((t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchmove(t))},onmouseup:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},onmouseout:function(e){if(this.touchStart){var i=e.target,n=e.relatedTarget;n&&(n===i||t.contains(i,n))||this.onmouseup(e)}},ontouchstart:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var e=(t.originalEvent||t).touches[0];this.touchStart={x:e.pageX,y:e.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var e,i,n=(t.originalEvent||t).touches[0],s=(t.originalEvent||t).scale,o=this.index;if(!(n.length>1||s&&1!==s))if(this.options.disableScroll&&t.preventDefault(),this.touchDelta={x:n.pageX-this.touchStart.x,y:n.pageY-this.touchStart.y},e=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(e)<Math.abs(this.touchDelta.y)),this.isScrolling)this.options.closeOnSwipeUpOrDown&&this.translateY(o,this.touchDelta.y+this.positions[o],0);else for(t.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?i=[this.circle(o+1),o,this.circle(o-1)]:(this.touchDelta.x=e/=!o&&e>0||o===this.num-1&&e<0?Math.abs(e)/this.slideWidth+1:1,i=[o],o&&i.push(o-1),o<this.num-1&&i.unshift(o+1));i.length;)o=i.pop(),this.translateX(o,e+this.positions[o],0)},ontouchend:function(t){this.options.stopTouchEventsPropagation&&this.stopPropagation(t);var e,i,n,s,o,r=this.index,a=this.options.transitionSpeed,l=this.slideWidth,c=Number(Date.now()-this.touchStart.time)<250,u=c&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>l/2,h=!r&&this.touchDelta.x>0||r===this.num-1&&this.touchDelta.x<0,d=!u&&this.options.closeOnSwipeUpOrDown&&(c&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(h=!1),e=this.touchDelta.x<0?-1:1,this.isScrolling?d?this.close():this.translateY(r,0,a):u&&!h?(i=r+e,n=r-e,s=l*e,o=-l*e,this.options.continuous?(this.move(this.circle(i),s,0),this.move(this.circle(r-2*e),o,0)):i>=0&&i<this.num&&this.move(i,s,0),this.move(r,this.positions[r]+s,a),this.move(this.circle(n),this.positions[this.circle(n)]+s,a),r=this.circle(n),this.onslide(r)):this.options.continuous?(this.move(this.circle(r-1),-l,a),this.move(r,0,a),this.move(this.circle(r+1),l,a)):(r&&this.move(r-1,-l,a),this.move(r,0,a),r<this.num-1&&this.move(r+1,l,a))},ontouchcancel:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},ontransitionend:function(t){var e=this.slides[this.index];t&&e!==t.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,e]))},oncomplete:function(e){var i,n=e.target||e.srcElement,s=n&&n.parentNode;n&&s&&(i=this.getNodeIndex(s),t(s).removeClass(this.options.slideLoadingClass),"error"===e.type?(t(s).addClass(this.options.slideErrorClass),this.elements[i]=3):this.elements[i]=2,n.clientHeight>this.container[0].clientHeight&&(n.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===s&&this.play(),this.setTimeout(this.options.onslidecomplete,[i,s]))},onload:function(t){this.oncomplete(t)},onerror:function(t){this.oncomplete(t)},onkeydown:function(t){switch(t.which||t.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(t),this.toggleControls());break;case 27:this.options.closeOnEscape&&this.close();break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(t),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(t),this.next())}},handleClick:function(e){var i=this.options,n=e.target||e.srcElement,s=n.parentNode,o=function(e){return t(n).hasClass(e)||t(s).hasClass(e)};o(i.toggleClass)?(this.preventDefault(e),this.toggleControls()):o(i.prevClass)?(this.preventDefault(e),this.prev()):o(i.nextClass)?(this.preventDefault(e),this.next()):o(i.closeClass)?(this.preventDefault(e),this.close()):o(i.playPauseClass)?(this.preventDefault(e),this.toggleSlideshow()):s===this.slidesContainer[0]?(this.preventDefault(e),i.closeOnSlideClick?this.close():this.toggleControls()):s.parentNode&&s.parentNode===this.slidesContainer[0]&&(this.preventDefault(e),this.toggleControls())},onclick:function(t){return this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)?void delete this.touchDelta:this.handleClick(t)},updateEdgeClasses:function(t){t?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),t===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(t){this.options.continuous||this.updateEdgeClasses(t),this.loadElements(t),this.options.unloadElements&&this.unloadElements(t),this.setTitle(t)},onslide:function(t){this.index=t,this.handleSlide(t),this.setTimeout(this.options.onslide,[t,this.slides[t]])},setTitle:function(t){var e=this.slides[t].firstChild.title,i=this.titleElement;i.length&&(this.titleElement.empty(),e&&i[0].appendChild(document.createTextNode(e)))},setTimeout:function(t,e,i){var n=this;return t&&window.setTimeout(function(){t.apply(n,e||[])},i||0)},imageFactory:function(e,i){var n,s,o,r=this,a=this.imagePrototype.cloneNode(!1),l=e,c=this.options.stretchImages,u=function(e){if(!n){if(e={type:e.type,target:s},!s.parentNode)return r.setTimeout(u,[e]);n=!0,t(a).off("load error",u),c&&"load"===e.type&&(s.style.background='url("'+l+'") center no-repeat',s.style.backgroundSize=c),i(e)}};return"string"!=typeof l&&(l=this.getItemProperty(e,this.options.urlProperty),o=this.getItemProperty(e,this.options.titleProperty)),!0===c&&(c="contain"),c=this.support.backgroundSize&&this.support.backgroundSize[c]&&c,c?s=this.elementPrototype.cloneNode(!1):(s=a,a.draggable=!1),o&&(s.title=o),t(a).on("load error",u),a.src=l,s},createElement:function(e,i){var n=e&&this.getItemProperty(e,this.options.typeProperty),s=n&&this[n.split("/")[0]+"Factory"]||this.imageFactory,o=e&&s.call(this,e,i);return o||(o=this.elementPrototype.cloneNode(!1),this.setTimeout(i,[{type:"error",target:o}])),t(o).addClass(this.options.slideContentClass),o},loadElement:function(e){this.elements[e]||(this.slides[e].firstChild?this.elements[e]=t(this.slides[e]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[e]=1,t(this.slides[e]).addClass(this.options.slideLoadingClass),this.slides[e].appendChild(this.createElement(this.list[e],this.proxyListener))))},loadElements:function(t){var e,i=Math.min(this.num,2*this.options.preloadRange+1),n=t;for(e=0;e<i;e+=1)n+=e*(e%2==0?-1:1),n=this.circle(n),this.loadElement(n)},unloadElements:function(t){var e,i,n;for(e in this.elements)this.elements.hasOwnProperty(e)&&(n=Math.abs(t-e))>this.options.preloadRange&&n+this.options.preloadRange<this.num&&(i=this.slides[e],i.removeChild(i.firstChild),delete this.elements[e])},addSlide:function(t){var e=this.slidePrototype.cloneNode(!1);e.setAttribute("data-index",t),this.slidesContainer[0].appendChild(e),this.slides.push(e)},positionSlide:function(t){var e=this.slides[t];e.style.width=this.slideWidth+"px",this.support.transform&&(e.style.left=t*-this.slideWidth+"px",this.move(t,this.index>t?-this.slideWidth:this.index<t?this.slideWidth:0,0))},initSlides:function(e){var i,n;for(e||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),t(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,i=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].offsetWidth,this.slideHeight=this.container[0].offsetHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",i&&this.resetSlides(),n=0;n<this.num;n+=1)i&&this.addSlide(n),this.positionSlide(n);this.options.continuous&&this.support.transform&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transform||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},toggleControls:function(){var t=this.options.controlsClass;this.container.hasClass(t)?this.container.removeClass(t):this.container.addClass(t)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(t){return parseInt(t.getAttribute("data-index"),10)},getNestedProperty:function(t,e){return e.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(e,i,n,s,o){var r=o||i||n||s&&parseInt(s,10);e&&t&&(t=t[r])}),t},getDataProperty:function(e,i){if(e.getAttribute){var n=e.getAttribute("data-"+i.replace(/([A-Z])/g,"-$1").toLowerCase());if("string"==typeof n){if(/^(true|false|null|-?\d+(\.\d+)?|\{[\s\S]*\}|\[[\s\S]*\])$/.test(n))try{return t.parseJSON(n)}catch(t){}return n}}},getItemProperty:function(t,e){var i=t[e];return void 0===i&&void 0===(i=this.getDataProperty(t,e))&&(i=this.getNestedProperty(t,e)),i},initStartIndex:function(){var t,e=this.options.index,i=this.options.urlProperty;if(e&&"number"!=typeof e)for(t=0;t<this.num;t+=1)if(this.list[t]===e||this.getItemProperty(this.list[t],i)===this.getItemProperty(e,i)){e=t;break}this.index=this.circle(parseInt(e,10)||0)},initEventListeners:function(){var e=this,i=this.slidesContainer,n=function(t){var i=e.support.transition&&e.support.transition.end===t.type?"transitionend":t.type;e["on"+i](t)};t(window).on("resize",n),t(document.body).on("keydown",n),this.container.on("click",n),this.support.touch?i.on("touchstart touchmove touchend touchcancel",n):this.options.emulateTouchEvents&&this.support.transition&&i.on("mousedown mousemove mouseup mouseout",n),this.support.transition&&i.on(this.support.transition.end,n),this.proxyListener=n},destroyEventListeners:function(){var e=this.slidesContainer,i=this.proxyListener;t(window).off("resize",i),t(document.body).off("keydown",i),this.container.off("click",i),this.support.touch?e.off("touchstart touchmove touchend touchcancel",i):this.options.emulateTouchEvents&&this.support.transition&&e.off("mousedown mousemove mouseup mouseout",i),this.support.transition&&e.off(this.support.transition.end,i)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var e=this,i=function(t){t.target===e.container[0]&&(e.container.off(e.support.transition.end,i),e.handleOpen())};return this.container=t(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer).first(),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement).first(),1===this.num&&this.container.addClass(this.options.singleClass),this.options.onopen&&this.options.onopen.call(this),this.support.transition&&this.options.displayTransition?this.container.on(this.support.transition.end,i):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this.container[0].style.display="block",this.initSlides(),void this.container.addClass(this.options.displayClass)):(this.console.log("blueimp Gallery: Slides container not found.",this.options.slidesContainer),!1)):(this.console.log("blueimp Gallery: Widget container not found.",this.options.container),!1)},initOptions:function(e){this.options=t.extend({},this.options),(e&&e.carousel||this.options.carousel&&(!e||!1!==e.carousel))&&t.extend(this.options,this.carouselOptions),t.extend(this.options,e),this.num<3&&(this.options.continuous=!!this.options.continuous&&null),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),e}),function(t){"use strict";"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],t):t(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";t.extend(e.prototype.options,{fullScreen:!1});var i=e.prototype.initialize,n=e.prototype.close;return t.extend(e.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement},requestFullScreen:function(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},initialize:function(){i.call(this),this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen(),n.call(this)}}),e}),function(){"use strict";function t(t,e){var i;for(i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function e(t){if(!this||this.find!==e.prototype.find)return new e(t);if(this.length=0,t)if("string"==typeof t&&(t=this.find(t)),t.nodeType||t===t.window)this.length=1,this[0]=t;else{var i=t.length;for(this.length=i;i;)i-=1,this[i]=t[i]}}e.extend=t,e.contains=function(t,e){do{if((e=e.parentNode)===t)return!0}while(e);return!1},e.parseJSON=function(t){return window.JSON&&JSON.parse(t)},t(e.prototype,{find:function(t){var i=this[0]||document;return"string"==typeof t&&(t=i.querySelectorAll?i.querySelectorAll(t):"#"===t.charAt(0)?i.getElementById(t.slice(1)):i.getElementsByTagName(t)),new e(t)},hasClass:function(t){return!!this[0]&&new RegExp("(^|\\s+)"+t+"(\\s+|$)").test(this[0].className)},addClass:function(t){for(var e,i=this.length;i;){if(i-=1,e=this[i],!e.className)return e.className=t,this;if(this.hasClass(t))return this;e.className+=" "+t}return this},removeClass:function(t){for(var e,i=new RegExp("(^|\\s+)"+t+"(\\s+|$)"),n=this.length;n;)n-=1,e=this[n],e.className=e.className.replace(i," ");return this},on:function(t,e){for(var i,n,s=t.split(/\s+/);s.length;)for(t=s.shift(),i=this.length;i;)i-=1,n=this[i],n.addEventListener?n.addEventListener(t,e,!1):n.attachEvent&&n.attachEvent("on"+t,e);return this},off:function(t,e){for(var i,n,s=t.split(/\s+/);s.length;)for(t=s.shift(),i=this.length;i;)i-=1,n=this[i],n.removeEventListener?n.removeEventListener(t,e,!1):n.detachEvent&&n.detachEvent("on"+t,e);return this},empty:function(){for(var t,e=this.length;e;)for(e-=1,t=this[e];t.hasChildNodes();)t.removeChild(t.lastChild);return this},first:function(){return new e(this[0])}}),"function"==typeof define&&define.amd?define(function(){return e}):(window.blueimp=window.blueimp||{},window.blueimp.helper=e)}(),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery","./blueimp-gallery"],t):t(window.jQuery,window.blueimp.Gallery)}(function(t,e){"use strict";t(document).on("click","[data-gallery]",function(i){var n=t(this).data("gallery"),s=t(n),o=s.length&&s||t(e.prototype.options.container),r={onopen:function(){o.data("gallery",this).trigger("open")},onopened:function(){o.trigger("opened")},onslide:function(){o.trigger("slide",arguments)},onslideend:function(){o.trigger("slideend",arguments)},onslidecomplete:function(){o.trigger("slidecomplete",arguments)},onclose:function(){o.trigger("close")},onclosed:function(){o.trigger("closed").removeData("gallery")}},a=t.extend(o.data(),{container:o[0],index:this,event:i},r),l=t('[data-gallery="'+n+'"]');return a.filter&&(l=l.filter(a.filter)),new e(l,a)})}),function(t,e,i,n){var s=t(e);t.fn.lazyload=function(n){function o(){var e=0;a.each(function(){var i=t(this);if(!l.skip_invisible||i.is(":visible"))if(t.abovethetop(this,l)||t.leftofbegin(this,l));else if(t.belowthefold(this,l)||t.rightoffold(this,l)){if(++e>l.failure_limit)return!1}else i.trigger("appear"),e=0})}var r,a=this,l={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:e,data_attribute:"original",skip_invisible:!1,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return n&&(void 0!==n.failurelimit&&(n.failure_limit=n.failurelimit,delete n.failurelimit),void 0!==n.effectspeed&&(n.effect_speed=n.effectspeed,delete n.effectspeed),t.extend(l,n)),r=void 0===l.container||l.container===e?s:t(l.container),0===l.event.indexOf("scroll")&&r.bind(l.event,function(){return o()}),this.each(function(){var e=this,i=t(e);e.loaded=!1,void 0!==i.attr("src")&&!1!==i.attr("src")||i.is("img")&&i.attr("src",l.placeholder),i.one("appear",function(){if(!this.loaded){if(l.appear){var n=a.length;l.appear.call(e,n,l)}t("<img />").bind("load",function(){var n=i.attr("data-"+l.data_attribute);i.hide(),i.is("img")?i.attr("src",n):i.css("background-image","url('"+n+"')"),i[l.effect](l.effect_speed),e.loaded=!0;var s=t.grep(a,function(t){return!t.loaded});if(a=t(s),l.load){var o=a.length;l.load.call(e,o,l)}}).attr("src",i.attr("data-"+l.data_attribute))}}),0!==l.event.indexOf("scroll")&&i.bind(l.event,function(){e.loaded||i.trigger("appear")})}),s.bind("resize",function(){o()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&s.bind("pageshow",function(e){e.originalEvent&&e.originalEvent.persisted&&a.each(function(){t(this).trigger("appear")})}),t(i).ready(function(){o()}),this},t.belowthefold=function(i,n){return(void 0===n.container||n.container===e?(e.innerHeight?e.innerHeight:s.height())+s.scrollTop():t(n.container).offset().top+t(n.container).height())<=t(i).offset().top-n.threshold},t.rightoffold=function(i,n){return(void 0===n.container||n.container===e?s.width()+s.scrollLeft():t(n.container).offset().left+t(n.container).width())<=t(i).offset().left-n.threshold},t.abovethetop=function(i,n){return(void 0===n.container||n.container===e?s.scrollTop():t(n.container).offset().top)>=t(i).offset().top+n.threshold+t(i).height()},t.leftofbegin=function(i,n){return(void 0===n.container||n.container===e?s.scrollLeft():t(n.container).offset().left)>=t(i).offset().left+n.threshold+t(i).width()},t.inviewport=function(e,i){return!(t.rightoffold(e,i)||t.leftofbegin(e,i)||t.belowthefold(e,i)||t.abovethetop(e,i))},t.extend(t.expr[":"],{"below-the-fold":function(e){return t.belowthefold(e,{threshold:0})},"above-the-top":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-screen":function(e){return t.rightoffold(e,{threshold:0})},"left-of-screen":function(e){return!t.rightoffold(e,{threshold:0})},"in-viewport":function(e){return t.inviewport(e,{threshold:0})},"above-the-fold":function(e){return!t.belowthefold(e,{threshold:0})},"right-of-fold":function(e){return t.rightoffold(e,{threshold:0})},"left-of-fold":function(e){return!t.rightoffold(e,{threshold:0})}})}(jQuery,window,document),function(t,e){"$:nomunge";var i,n=t.jQuery||t.Cowboy||(t.Cowboy={});n.throttle=i=function(t,i,s,o){function r(){function n(){l=+new Date,s.apply(c,h)}function r(){a=e}var c=this,u=+new Date-l,h=arguments;o&&!a&&n(),a&&clearTimeout(a),o===e&&u>t?n():!0!==i&&(a=setTimeout(o?r:n,o===e?t-u:t))}var a,l=0;return"boolean"!=typeof i&&(o=s,s=i,i=e),n.guid&&(r.guid=s.guid=s.guid||n.guid++),r},n.debounce=function(t,n,s){return s===e?i(t,n,!1):i(t,s,!1!==n)}}(this),function(t,e){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(i){return t.Bloodhound=e(i)}):"object"==typeof exports?module.exports=e(require("jquery")):t.Bloodhound=e(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,s){if(!(n=i.call(null,s,t,e)))return!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,s){if(n=i.call(null,s,t,e))return!1}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,s;return function(){var o,r,a=this,l=arguments;return o=function(){n=null,i||(s=t.apply(a,l))},r=i&&!n,clearTimeout(n),n=setTimeout(o,e),r&&(s=t.apply(a,l)),s}},throttle:function(t,e){var i,n,s,o,r,a;return r=0,a=function(){r=new Date,s=null,o=t.apply(i,n)},function(){var l=new Date,c=e-(l-r);return i=this,n=arguments,c<=0?(clearTimeout(s),s=null,r=l,o=t.apply(i,n)):s||(s=setTimeout(a,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i="0.11.1",n=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function i(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function n(t){return function(i){return i=e.isArray(i)?i:[].slice.call(arguments,0),function(n){var s=[];return e.each(i,function(i){s=s.concat(t(e.toStr(n[i])))}),s}}}return{nonword:i,whitespace:t,obj:{nonword:n(i),whitespace:n(t)}}}(),s=function(){"use strict";function i(i){this.maxSize=e.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function n(){this.head=this.tail=null}function s(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(i.prototype,{set:function(t,e){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new s(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val},reset:function(){this.size=0,this.hash={},this.list=new n}}),e.mixin(n.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),i}(),o=function(){"use strict";function i(t,i){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=i||a,!this.ls&&this._noop()}function n(){return(new Date).getTime()}function s(t){return JSON.stringify(e.isUndefined(t)?null:t)}function o(e){return t.parseJSON(e)}function r(t){var e,i,n=[],s=a.length;for(e=0;e<s;e++)(i=a.key(e)).match(t)&&n.push(i.replace(t,""));return n}var a;try{a=window.localStorage,a.setItem("~~~","!"),a.removeItem("~~~")}catch(t){a=null}return e.mixin(i.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),o(this.ls.getItem(this._prefix(t)))},set:function(t,i,o){return e.isNumber(o)?this._safeSet(this._ttlKey(t),s(n()+o)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),s(i))},remove:function(t){
return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=r(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var i=o(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(i)&&n()>i)}}),i}(),r=function(){"use strict";function i(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new s(0):a}var n=0,o={},r=6,a=new s(10);return i.setMaxPendingRequests=function(t){r=t},i.resetCache=function(){a.reset()},e.mixin(i.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function i(t){e(null,t),u._cache.set(l,t)}function s(){e(!0)}function a(){n--,delete o[l],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var l,c,u=this;l=this._fingerprint(t),this.cancelled||l!==this.lastReq||((c=o[l])?c.done(i).fail(s):n<r?(n++,o[l]=this._send(t).done(i).fail(s).always(a)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,n){var s,o;n=n||t.noop,i=e.isString(i)?{url:i}:i||{},o=this._fingerprint(i),this.cancelled=!1,this.lastReq=o,(s=this._cache.get(o))?n(null,s):this._get(i,n)},cancel:function(){this.cancelled=!0}}),i}(),a=window.SearchIndex=function(){"use strict";function i(i){i=i||{},i.datumTokenizer&&i.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=i.identify||e.stringify,this.datumTokenizer=i.datumTokenizer,this.queryTokenizer=i.queryTokenizer,this.reset()}function n(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function s(){var t={};return t[l]=[],t[a]={},t}function o(t){for(var e={},i=[],n=0,s=t.length;n<s;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}function r(t,e){var i=0,n=0,s=[];t=t.sort(),e=e.sort();for(var o=t.length,r=e.length;i<o&&n<r;)t[i]<e[n]?i++:t[i]>e[n]?n++:(s.push(t[i]),i++,n++);return s}var a="c",l="i";return e.mixin(i.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var i=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var o,r;i.datums[o=i.identify(t)]=t,r=n(i.datumTokenizer(t)),e.each(r,function(t){var e,n,r;for(e=i.trie,n=t.split("");r=n.shift();)e=e[a][r]||(e[a][r]=s()),e[l].push(o)})})},get:function(t){var i=this;return e.map(t,function(t){return i.datums[t]})},search:function(t){var i,s,c=this;return i=n(this.queryTokenizer(t)),e.each(i,function(t){var e,i,n,o;if(s&&0===s.length)return!1;for(e=c.trie,i=t.split("");e&&(n=i.shift());)e=e[a][n];if(!e||0!==i.length)return s=[],!1;o=e[l].slice(0),s=s?r(s,o):o}),s?e.map(o(s),function(t){return c.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=s()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new o(t.cacheKey)}var i;return i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(i.data,t,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(i.data),e.protocol=this.storage.get(i.protocol),e.thumbprint=this.storage.get(i.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function i(e){t(null,s.transform(e))}var n,s=this;t&&(n=this.prepare(this._settings()),this.transport(n).fail(e).done(i))},clear:function(){return this.storage.clear(),this}}),t}(),c=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new r({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function i(t,i){e(t?[]:s.transform(i))}var n,s=this;if(e)return t=t||"",n=this.prepare(t,this._settings()),this.transport.get(n,i)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),u=function(){"use strict";function n(n){var s;return n?(s={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(s,n),!n.url&&t.error("prefetch requires url to be set"),n.transform=n.filter||n.transform,n.cacheKey=n.cacheKey||n.url,n.thumbprint=i+n.thumbprint,n.transport=n.transport?a(n.transport):t.ajax,n):null}function s(i){var n;if(i)return n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(n,i),!i.url&&t.error("remote requires url to be set"),i.transform=i.filter||i.transform,i.prepare=o(i),i.limiter=r(i),i.transport=i.transport?a(i.transport):t.ajax,delete i.replace,delete i.wildcard,delete i.rateLimitBy,delete i.rateLimitWait,i}function o(t){function e(t,e){return e.url=o(e.url,t),e}function i(t,e){return e.url=e.url.replace(r,encodeURIComponent(t)),e}function n(t,e){return e}var s,o,r;return s=t.prepare,o=t.replace,r=t.wildcard,s||(s=o?e:t.wildcard?i:n)}function r(t){var i,n,s;return i=t.limiter,n=t.rateLimitBy,s=t.rateLimitWait,i||(i=/^throttle$/i.test(n)?function(t){return function(i){return e.throttle(i,t)}}(s):function(t){return function(i){return e.debounce(i,t)}}(s)),i}function a(i){return function(n){function s(t){e.defer(function(){r.resolve(t)})}function o(t){e.defer(function(){r.reject(t)})}var r=t.Deferred();return i(n,s,o),r}}return function(i){var o,r;return o={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},i=e.mixin(o,i||{}),!i.datumTokenizer&&t.error("datumTokenizer is required"),!i.queryTokenizer&&t.error("queryTokenizer is required"),r=i.sorter,i.sorter=r?function(t){return t.sort(r)}:e.identity,i.local=e.isFunction(i.local)?i.local():i.local,i.prefetch=n(i.prefetch),i.remote=s(i.remote),i}}();return function(){"use strict";function i(t){t=u(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new c(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}var s;return s=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=s),i},i.tokenizers=n,e.mixin(i.prototype,{__ttAdapter:function(){function t(t,e,n){return i.search(t,e,n)}function e(t,e){return i.search(t,e)}var i=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){if(t)return i.reject();s.add(e),s.prefetch.store(s.index.serialize()),i.resolve()}var i,n,s=this;return i=t.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),i.resolve()):this.prefetch.fromNetwork(e):i.resolve(),i.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,i,n){function s(t){var i=[];e.each(t,function(t){!e.some(o,function(e){return r.identify(t)===r.identify(e)})&&i.push(t)}),n&&n(i)}var o,r=this;return o=this.sorter(this.index.search(t)),i(this.remote?o.slice():o),this.remote&&o.length<this.sufficient?this.remote.get(t,s):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return r.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}()}),function(t,e){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return e(t)}):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,s){if(!(n=i.call(null,s,t,e)))return!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,s){if(n=i.call(null,s,t,e))return!1}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,s;return function(){var o,r,a=this,l=arguments;return o=function(){n=null,i||(s=t.apply(a,l))},r=i&&!n,clearTimeout(n),n=setTimeout(o,e),r&&(s=t.apply(a,l)),s}},throttle:function(t,e){var i,n,s,o,r,a;return r=0,a=function(){r=new Date,s=null,o=t.apply(i,n)},function(){var l=new Date,c=e-(l-r);return i=this,n=arguments,c<=0?(clearTimeout(s),s=null,r=l,o=t.apply(i,n)):s||(s=setTimeout(a,c)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i=function(){"use strict";function t(t){var r,a;return a=e.mixin({},o,t),r={css:s(),classes:a,html:i(a),selectors:n(a)},{css:r.css,html:r.html,classes:r.classes,selectors:r.selectors,mixin:function(t){e.mixin(t,r)}}}function i(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function n(t){var i={};return e.each(t,function(t,e){i[e]="."+t}),i}function s(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var o={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),n=function(){"use strict";function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var n,s;return n="typeahead:",s={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(i.prototype,{_trigger:function(e,i){var s;return s=t.Event(n+e),(i=i||[]).unshift(s),this.$el.trigger.apply(this.$el,i),s},before:function(t){var e,i;return e=[].slice.call(arguments,1),i=this._trigger("before"+t,e),i.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=s[t])&&this._trigger(e,[].slice.call(arguments,1))}}),i}(),s=function(){"use strict";function t(t,e,i,n){var s;if(!i)return this;for(e=e.split(a),i=n?r(i,n):i,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(i);return this}function e(e,i,n){return t.call(this,"async",e,i,n)}function i(e,i,n){return t.call(this,"sync",e,i,n)}function n(t){var e;if(!this._callbacks)return this;for(t=t.split(a);e=t.shift();)delete this._callbacks[e];return this}function s(t){var e,i,n,s,r;if(!this._callbacks)return this;for(t=t.split(a),n=[].slice.call(arguments,1);(e=t.shift())&&(i=this._callbacks[e]);)s=o(i.sync,this,[e].concat(n)),r=o(i.async,this,[e].concat(n)),s()&&l(r);return this}function o(t,e,i){function n(){for(var n,s=0,o=t.length;!n&&s<o;s+=1)n=!1===t[s].apply(e,i);return!n}return n}function r(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var a=/\s+/,l=function(){return window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}();return{onSync:i,onAsync:e,off:n,trigger:s}}(),o=function(t){"use strict";function i(t,i,n){for(var s,o=[],r=0,a=t.length;r<a;r++)o.push(e.escapeRegExChars(t[r]));return s=n?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",i?new RegExp(s):new RegExp(s,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(s){function o(e){var i,n,o;return(i=a.exec(e.data))&&(o=t.createElement(s.tagName),s.className&&(o.className=s.className),n=e.splitText(i.index),n.splitText(i[0].length),o.appendChild(n.cloneNode(!0)),e.parentNode.replaceChild(o,n)),!!i}function r(t,e){for(var i,n=0;n<t.childNodes.length;n++)i=t.childNodes[n],3===i.nodeType?n+=e(i)?1:0:r(i,e)}var a;s=e.mixin({},n,s),s.node&&s.pattern&&(s.pattern=e.isArray(s.pattern)?s.pattern:[s.pattern],a=i(s.pattern,s.caseSensitive,s.wordsOnly),r(s.node,o))}}(window.document),r=function(){"use strict";function i(i,s){i=i||{},i.input||t.error("input is missing"),s.mixin(this),this.$hint=t(i.hint),this.$input=t(i.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=n(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function n(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function o(t,e){return i.normalizeQuery(t)===i.normalizeQuery(e)}function r(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(i.prototype,s,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var i;switch(t){case"up":case"down":i=!r(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){var i;switch(t){case"tab":i=!r(e);break;default:i=!0}return i},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var i,n;i=o(t,this.query),n=!!i&&this.query.length!==t.length,this.query=t,e||i?!e&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,i,n,s,o=this;return t=e.bind(this._onBlur,this),i=e.bind(this._onFocus,this),n=e.bind(this._onKeydown,this),s=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",i).on("keydown.tt",n),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",s):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(o._onInput,o,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,i,n;t=this.getInputValue(),e=this.getHint(),i=t!==e&&0===e.indexOf(t),!(n=""!==t&&i&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,i,n;return t=this.$input.val().length,i=this.$input[0].selectionStart,e.isNumber(i)?i===t:!document.selection||(n=document.selection.createRange(),n.moveStart("character",-t),t===n.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),i}(),a=function(){"use strict";function i(i,s){i=i||{},i.templates=i.templates||{},i.templates.notFound=i.templates.notFound||i.templates.empty,i.source||t.error("missing source"),i.node||t.error("missing node"),i.name&&!a(i.name)&&t.error("invalid dataset name: "+i.name),s.mixin(this),this.highlight=!!i.highlight,this.name=i.name||c(),this.limit=i.limit||5,this.displayFn=n(i.display||i.displayKey),this.templates=r(i.templates,this.displayFn),this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source,this.async=e.isUndefined(i.async)?this.source.length>2:!!i.async,this._resetLastSuggestion(),this.$el=t(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(t){function i(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:i}function r(i,n){function s(e){return t("<div>").text(n(e))}return{notFound:i.notFound&&e.templatify(i.notFound),pending:i.pending&&e.templatify(i.pending),header:i.header&&e.templatify(i.header),footer:i.footer&&e.templatify(i.footer),suggestion:i.suggestion||s}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,c;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},c=e.getIdGenerator(),i.extractData=function(e){var i=t(e);return i.data(l.obj)?{val:i.data(l.val)||"",obj:i.data(l.obj)||null}:null},e.mixin(i.prototype,s,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var i;i=this._getSuggestionsFragment(t,e),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var i,n;i=this._getSuggestionsFragment(t,e),n=i.children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=n},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,n){var s,r=this;return s=document.createDocumentFragment(),e.each(n,function(e){var n,o;o=r._injectQuery(i,e),n=t(r.templates.suggestion(o)).data(l.obj,e).data(l.val,r.displayFn(e)).addClass(r.classes.suggestion+" "+r.classes.selectable),s.appendChild(n[0])}),this.highlight&&o({className:this.classes.highlight,node:s,pattern:i}),t(s)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,i){return e.isObject(i)?e.mixin({_query:t},i):i},update:function(e){function i(t){r||(r=!0,t=(t||[]).slice(0,s.limit),a=t.length,s._overwrite(e,t),a<s.limit&&s.async&&s.trigger("asyncRequested",e))}function n(i){i=i||[],!o&&a<s.limit&&(s.cancel=t.noop,i=i.slice(0,s.limit-a),a+=i.length,s._append(e,i),s.async&&s.trigger("asyncReceived",e))}var s=this,o=!1,r=!1,a=0;this.cancel(),this.cancel=function(){o=!0,s.cancel=t.noop,s.async&&s.trigger("asyncCanceled",e)},this.source(e,i,n),!r&&i([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),i}(),l=function(){"use strict";function i(i,n){function s(e){var i=o.$node.find(e.node).first();return e.node=i.length?i:t("<div>").appendTo(o.$node),new a(e,n)}var o=this;i=i||{},i.node||t.error("node is required"),n.mixin(this),this.$node=t(i.node),this.query=null,this.datasets=e.map(i.datasets,s)}return e.mixin(i.prototype,s,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,i,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,i,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,i,n,s;e=t.position().top,i=e+t.outerHeight(!0),n=this.$node.scrollTop(),s=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),e<0?this.$node.scrollTop(n+e):s<i&&this.$node.scrollTop(n+(i-s))},bind:function(){var t,i=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",i._propagate,i).onSync("asyncCanceled",i._propagate,i).onSync("asyncReceived",i._propagate,i).onSync("rendered",i._onRendered,i).onSync("cleared",i._onCleared,i)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,i,n,s;return i=this.getActiveSelectable(),e=this._getSelectables(),n=i?e.index(i):-1,s=n+t,s=(s+1)%(e.length+1)-1,s=s<-1?e.length-1:s,-1===s?null:e.eq(s)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function i(e){e.update(t)}var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,i)),n},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function i(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,i)}}),i}(),c=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var i=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),i.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),i.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),i.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),u=function(){"use strict";function i(i,s){var o,r,a,l,c,u,h,d,p,g,f;i=i||{},i.input||t.error("missing input"),i.menu||t.error("missing menu"),i.eventBus||t.error("missing event bus"),s.mixin(this),this.eventBus=i.eventBus,this.minLength=e.isNumber(i.minLength)?i.minLength:1,this.input=i.input,this.menu=i.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=n(this,"activate","open","_onFocused"),r=n(this,"deactivate","_onBlurred"),a=n(this,"isActive","isOpen","_onEnterKeyed"),l=n(this,"isActive","isOpen","_onTabKeyed"),c=n(this,"isActive","_onEscKeyed"),u=n(this,"isActive","open","_onUpKeyed"),h=n(this,"isActive","open","_onDownKeyed"),d=n(this,"isActive","isOpen","_onLeftKeyed"),p=n(this,"isActive","isOpen","_onRightKeyed"),g=n(this,"_openIfActive","_onQueryChanged"),f=n(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",r,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",c,this).onSync("upKeyed",u,this).onSync("downKeyed",h,this).onSync("leftKeyed",d,this).onSync("rightKeyed",p,this).onSync("queryChanged",g,this).onSync("whitespaceChanged",f,this).onSync("langDirChanged",this._onLangDirChanged,this)}function n(t){var i=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);e.each(i,function(e){return t[e].apply(t,n)})}}return e.mixin(i.prototype,{_hacks:function(){var i,n;i=this.input.$input||t("<div>"),n=this.menu.$node||t("<div>"),i.on("blur.tt",function(t){var s,o,r;s=document.activeElement,o=n.is(s),r=n.has(s).length>0,e.isMsie()&&(o||r)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){i.focus()}))}),n.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,i,n){this._updateHint(),this.eventBus.trigger("render",i,n,e)},_onAsyncRequested:function(t,e,i){this.eventBus.trigger("asyncrequest",i,e)},_onAsyncCanceled:function(t,e,i){this.eventBus.trigger("asynccancel",i,e)},_onAsyncReceived:function(t,e,i){this.eventBus.trigger("asyncreceive",i,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&e.preventDefault()},_onTabKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&e.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,i,n,s,o,a,l;t=this.menu.getTopSelectable(),i=this.menu.getSelectableData(t),n=this.input.getInputValue(),!i||e.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(s=r.normalizeQuery(n),o=e.escapeRegExChars(s),a=new RegExp("^(?:"+o+")(.+$)","i"),(l=a.exec(i.val))&&this.input.setHint(n+l[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,i;return e=this.input.getQuery(),i=this.menu.getSelectableData(t),!(!(i&&e!==i.val)||this.eventBus.before("autocomplete",i.obj))&&(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0)},moveCursor:function(t){var e,i,n,s;return e=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(t),n=this.menu.getSelectableData(i),s=n?n.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",s)&&(this.menu.setCursor(i),n?this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",s),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),i}();!function(){"use strict";function s(e,i){e.each(function(){var e,n=t(this);(e=n.data(f.typeahead))&&i(e,n)})}function o(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(h(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){
t.data(f.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function h(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function d(t){var i,n;i=t.data(f.www),n=t.parent().filter(i.selectors.wrapper),e.each(t.data(f.attrs),function(i,n){e.isUndefined(i)?t.removeAttr(n):t.attr(n,i)}),t.removeData(f.typeahead).removeData(f.www).removeData(f.attr).removeClass(i.classes.input),n.length&&(t.detach().insertAfter(n),n.remove())}function p(i){var n,s;return n=e.isJQuery(i)||e.isElement(i),s=n?t(i).first():[],s.length?s:null}var g,f,m;g=t.fn.typeahead,f={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(s,h){function d(){var i,d,m,v,I,y,C,A,b,w,S;e.each(h,function(t){t.highlight=!!s.highlight}),i=t(this),d=t(g.html.wrapper),m=p(s.hint),v=p(s.menu),I=!1!==s.hint&&!m,y=!1!==s.menu&&!v,I&&(m=o(i,g)),y&&(v=t(g.html.menu).css(g.css.menu)),m&&m.val(""),i=a(i,g),(I||y)&&(d.css(g.css.wrapper),i.css(I?g.css.input:g.css.inputWithNoHint),i.wrap(d).parent().prepend(I?m:null).append(y?v:null)),S=y?c:l,C=new n({el:i}),A=new r({hint:m,input:i},g),b=new S({node:v,datasets:h},g),w=new u({input:A,menu:b,eventBus:C,minLength:s.minLength},g),i.data(f.www,g),i.data(f.typeahead,w)}var g;return h=e.isArray(h)?h:[].slice.call(arguments,1),s=s||{},g=i(s.classNames),this.each(d)},isEnabled:function(){var t;return s(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return s(this,function(t){t.enable()}),this},disable:function(){return s(this,function(t){t.disable()}),this},isActive:function(){var t;return s(this.first(),function(e){t=e.isActive()}),t},activate:function(){return s(this,function(t){t.activate()}),this},deactivate:function(){return s(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return s(this.first(),function(e){t=e.isOpen()}),t},open:function(){return s(this,function(t){t.open()}),this},close:function(){return s(this,function(t){t.close()}),this},select:function(e){var i=!1,n=t(e);return s(this.first(),function(t){i=t.select(n)}),i},autocomplete:function(e){var i=!1,n=t(e);return s(this.first(),function(t){i=t.autocomplete(n)}),i},moveCursor:function(t){var e=!1;return s(this.first(),function(i){e=i.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(s(this,function(e){e.setVal(t)}),this):(s(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return s(this,function(t,e){d(e),t.destroy()}),this}},t.fn.typeahead=function(t){return m[t]?m[t].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=g,this}}()}),function(t,e,i){function n(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function s(t,i,s,o,a,l){var c,u,d=e.createElement("script");o=o||h.errorTimeout,d.src=t;for(u in s)d.setAttribute(u,s[u]);i=l?r:i||I,d.onreadystatechange=d.onload=function(){!c&&n(d.readyState)&&(c=1,i(),d.onload=d.onreadystatechange=null)},p(function(){c||(c=1,i(1))},o),a?d.onload():g.parentNode.insertBefore(d,g)}function o(t,i,n,s,o,a){var l,c=e.createElement("link");s=s||h.errorTimeout,i=a?r:i||I,c.href=t,c.rel="stylesheet",c.type="text/css";for(l in n)c.setAttribute(l,n[l]);o||(g.parentNode.insertBefore(c,g),p(i,0))}function r(){var t=m.shift();v=1,t?t.t?p(function(){("c"==t.t?h.injectCss:h.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),r()):v=0}function a(t,i,s,o,a,l,c){function u(e){if(!f&&n(d.readyState)&&(y.r=f=1,!v&&r(),d.onload=d.onreadystatechange=null,e)){"img"!=t&&p(function(){A.removeChild(d)},50);for(var s in j[i])j[i].hasOwnProperty(s)&&j[i][s].onload()}}c=c||h.errorTimeout;var d=e.createElement(t),f=0,I=0,y={t:s,s:i,e:a,a:l,x:c};1===j[i]&&(I=1,j[i]=[]),"object"==t?d.data=i:(d.src=i,d.type=t),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){u.call(this,I)},m.splice(o,0,y),"img"!=t&&(I||2===j[i]?(A.insertBefore(d,C?null:g),p(u,c)):j[i].push(d))}function l(t,e,i,n,s){return v=0,e=e||"j",z(t)?a("c"==e?x:S,t,e,this.i++,i,n,s):(m.splice(this.i++,0,t),1==m.length&&r()),this}function c(){var t=h;return t.loader={load:l,i:0},t}var u,h,d=e.documentElement,p=t.setTimeout,g=e.getElementsByTagName("script")[0],f={}.toString,m=[],v=0,I=function(){},y="MozAppearance"in d.style,C=y&&!!e.createRange().compareNode,A=C?d:g.parentNode,b=t.opera&&"[object Opera]"==f.call(t.opera),w=!!e.attachEvent&&!b,S=y?"object":w?"script":"img",x=w?"script":S,k=Array.isArray||function(t){return"[object Array]"==f.call(t)},D=function(t){return Object(t)===t},z=function(t){return"string"==typeof t},_=function(t){return"[object Function]"==f.call(t)},M=[],j={},T={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};h=function(t){function e(t){var e,i,n,s=t.split("!"),o=M.length,r=s.pop(),a=s.length,l={url:r,origUrl:r,prefixes:s};for(i=0;i<a;i++)n=s[i].split("="),(e=T[n.shift()])&&(l=e(l,n));for(i=0;i<o;i++)l=M[i](l);return l}function n(t){return t.split(".").pop().split("?").shift()}function s(t,s,o,r,a){var l=e(t),u=l.autoCallback;n(l.url);if(!l.bypass){if(s&&(s=_(s)?s:s[t]||s[r]||s[t.split("/").pop().split("?")[0]]),l.instead)return l.instead(t,s,o,r,a);j[l.url]?l.noexec=!0:j[l.url]=1,o.load(l.url,l.forceCSS||!l.forceJS&&"css"==n(l.url)?"c":i,l.noexec,l.attrs,l.timeout),(_(s)||_(u))&&o.load(function(){c(),s&&s(l.origUrl,a,r),u&&u(l.origUrl,a,r),j[l.url]=2})}}function o(t,e){function i(t,i){if(t){if(z(t))i||(c=function(){var t=[].slice.call(arguments);u.apply(this,t),h()}),s(t,c,e,0,r);else if(D(t)){n=function(){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i}();for(o in t)t.hasOwnProperty(o)&&(i||--n||(_(c)?c=function(){var t=[].slice.call(arguments);u.apply(this,t),h()}:c[o]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),h()}}(u[o])),s(t[o],c,e,o,r))}}else!i&&h()}var n,o,r=!!t.test,a=r?t.yep:t.nope,l=t.load||t.both,c=t.callback||I,u=c,h=t.complete||I;i(a,!!l),l&&i(l)}var r,a,l=this.yepnope.loader;if(z(t))s(t,0,l,0);else if(k(t))for(r=0;r<t.length;r++)a=t[r],z(a)?s(a,0,l,0):k(a)?h(a):D(a)&&o(a,l);else D(t)&&o(t,l)},h.addPrefix=function(t,e){T[t]=e},h.addFilter=function(t){M.push(t)},h.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",u=function(){e.removeEventListener("DOMContentLoaded",u,0),e.readyState="complete"},0)),t.yepnope=c(),t.yepnope.executeStack=r,t.yepnope.injectJs=s,t.yepnope.injectCss=o}(this,document),function(t){"use strict";function e(e){e&&3===e.which||(t(s).remove(),t(o).each(function(){var n=i(t(this)),s={relatedTarget:this};n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown",s)),e.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown",s))}))}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#[A-Za-z]/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}function n(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new r(this)),"string"==typeof e&&n[e].call(i)})}var s=".dropdown-backdrop",o='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.2.0",r.prototype.toggle=function(n){var s=t(this);if(!s.is(".disabled, :disabled")){var o=i(s),r=o.hasClass("open");if(e(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(o.trigger(n=t.Event("show.bs.dropdown",a)),n.isDefaultPrevented())return;s.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},r.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var s=i(n),r=s.hasClass("open");if(!r||r&&27==e.keyCode)return 27==e.which&&s.find(o).trigger("focus"),n.trigger("click");var a=" li:not(.divider):visible a",l=s.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(l.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',r.prototype.keydown)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.collapse"),o=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!s&&o.toggle&&"show"==e&&(e=!e),s||n.data("bs.collapse",s=new i(this,o)),"string"==typeof e&&s[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};i.VERSION="3.2.0",i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var i=t.Event("show.bs.collapse");if(this.$element.trigger(i),!i.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var s=n.data("bs.collapse");if(s&&s.transitioning)return;e.call(n,"hide"),s||n.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return r.call(this);var a=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(350)[o](this.$element[0][a])}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!t.support.transition)return n.call(this);this.$element[i](0).one("bsTransitionEnd",t.proxy(n,this)).emulateTransitionEnd(350)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=e,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var n,s=t(this),o=s.attr("data-target")||i.preventDefault()||(n=s.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=t(o),a=r.data("bs.collapse"),l=a?"toggle":s.data(),c=s.attr("data-parent"),u=c&&t(c);a&&a.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(s).addClass("collapsed"),s[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),e.call(r,l)})}(jQuery),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]};return!1}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one("bsTransitionEnd",function(){i=!0});var s=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var n=t(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new i(this)),"string"==typeof e&&s[e]()})}var i=function(e){this.element=t(e)};i.VERSION="3.2.0",i.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:s});if(e.trigger(o),!o.isDefaultPrevented()){var r=t(n);this.activate(e.closest("li"),i),this.activate(r,r.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:s})})}}},i.prototype.activate=function(e,i,n){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var o=i.find("> .active"),r=n&&t.support.transition&&o.hasClass("fade");r?o.one("bsTransitionEnd",s).emulateTransitionEnd(150):s(),o.removeClass("in")};var n=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=i,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(i){i.preventDefault(),e.call(t(this),"show")})}(jQuery);var global=global||{};global.pluginsPath="/js/plugins/",global.lang="",$.fn.exists=function(){return this.length>0},$.fn.banner=function(t){if(this.exists()){var e={interval:this.data("interval")||6e3,duration:this.data("duration")||600};$.extend(e,t);var i=this.find(".banner-pane"),n=i.find("img"),s=this.find(".banner-thumbs a"),o=this.find(".banner-desc li"),r=0,a=s.length,l=0,c=function(t){(t=d(t))!=r&&(clearTimeout(l),n.promise().done(function(){o.eq(r).fadeOut(e.duration),s.eq(r).removeClass("active"),r=t,o.eq(r).delay(e.duration).fadeIn(e.duration/2);var a=s.eq(r).addClass("active").attr("href");i.css("background-image","url("+a+")"),n.fadeOut(e.duration,function(){n.attr("src",a).show(),u(r),h()})}))},u=function(t){(new Image).src=s.eq(d(t+1)).attr("href"),(new Image).src=s.eq(d(t-1)).attr("href")},h=function(){l=setTimeout(function(){c(r+1)},e.interval)},d=function(t){return t>=a?t=0:t<0&&(t=a-1),t};u(r),h(),this.find(".banner-thumbs").on("click","li",function(){return c($(this).index()),!1}),this.find(".banner-prev").click(function(){c(r-1)}),this.find(".banner-next").click(function(){c(r+1)})}},$.fn.dataClick=function(){this.exists()&&this.click(function(){var t=$(this);return"this"!=t.data("click")&&(t=$(t.data("click"))),window.location.href=t.find("a").eq(0).attr("href"),!1})},$.fn.formEvents=function(){this.exists()&&this.find(".js-toggle").on("change","input",function(){var t=$(this),e=t.is(":checked"),i=$(t.data("target"));i.toggleClass("hidden",!e).delay(10).queue(function(){$(this).toggleClass("in",e).dequeue()}),e||i.find("input:checkbox").removeAttr("checked")})},$.fn.inputDate=function(){if(this.exists()){var t=this;yepnope({load:[global.pluginsPath+"datepicker/bootstrap-datepicker.js",global.pluginsPath+"datepicker/locales/bootstrap-datepicker.cs.js"],complete:function(){t.initDatepicker()}})}},$.fn.initDatepicker=function(){this.exists()&&this.datepicker({language:global.lang,autoclose:!0,format:"dd.mm.yyyy",weekStart:1}).attr("readonly",!0).addClass("input-reset").each(function(){var t=$(this);t.is("[data-range-min], [data-range-max]")&&t.change(function(){t.data("rangeMin")&&$(t.data("rangeMin")).datepicker("setStartDate",t.val()),t.data("rangeMax")&&$(t.data("rangeMax")).datepicker("setEndDate",t.val())})})},$.fn.equalHeight=function(t){"use strict";var e=0;$(this).each(function(){$(this).find(t).each(function(){$(this).css("min-height",0);var t=$(this).innerHeight();t>e&&(e=t)}).css("min-height",e)})},$.fn.initMap=function(){if(this.exists()){var t=this.data("lat"),e=this.data("lng"),i=this.data("zoom")||14,n=L.map(this.attr("id")).setView([t,e],i),s=L.divIcon({className:"map-icon",iconSize:[36,50],iconAnchor:[18,50]});L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}).addTo(n),L.marker([t,e],{icon:s}).addTo(n)}},$.fn.collapsibleFooterList=function(){return jQuery(this).each(function(){var t=jQuery(this),e=jQuery(this).attr("id"),i=jQuery('<a href="#'+e+'" class="collapse-link" data-toggle="collapse"><i class="icon-sm icon-plus ico-open"></i><i class="icon-sm icon-minus ico-close"></i></a>');t.prev("h4").append(i),t.collapse({toggle:!1})})},$.fn.photoGallery=function(t){var e,i=jQuery(this),n=i.find(".gallery-thumbs"),s=n.find("a"),o=i.find("#gallery-hero-photo"),r=jQuery(".header"),t=jQuery(window),a=0,l=i.find("#current-photo"),c=s.first().addClass("active"),u=200,h=function(t){c.index()!==t&&(t<0&&(t=s.length-1),t===s.length&&(t=0),s.removeClass("active"),c=s.eq(t),c.data("photo-loaded")||o.parent().addClass("loading"),c.addClass("active"),l.text(c.index()+1),d(c),e=new Image,e.onload=function(){o.attr("src",c.attr("href")),c.data("photo-loaded")||o.parent().removeClass("loading"),c.data("photo-loaded",!0)},u=c.data("photo-loaded")?0:200,setTimeout(function(){e.src=c.attr("href")},u))},d=function(t){var e=Math.round(t.position().top/n.height()*100)/100;(e<0||e>=.8)&&n.stop().animate({scrollTop:t.position().top},400)};if(l.text(c.index()+1),s.each(function(){var t=jQuery(this);t.click(function(e){e.preventDefault(),h(t.index())})}),window.location.hash.length){var p=window.location.hash.substring(1),g=s.filter(function(){return jQuery(this).attr("id")===p});g.length&&h(g.index())}i.find(".gallery-prev").click(function(){h(c.index()-1)}),i.find(".gallery-next").click(function(){h(c.index()+1)}),$(document).keydown(function(t){37===t.which?h(c.index()-1):39===t.which&&h(c.index()+1)}),t.resize($.debounce(250,function(){a=t.height()-r.innerHeight()-15,n.height(a),o.css("max-height",a)})).trigger("resize"),i.find(".gallery-photo-resize").click(function(){jQuery(this).children().toggleClass("icon-shrink"),n.parent().toggle(),o.parent().parent().toggleClass("col-lg-9")})},$.fn.eventSearch=function(){function t(t){t%=10;var e=2;return 1===t?e=0:t>1&&t<5&&(e=1),e}if(this.exists()){var e=this,i=e.find(".js-results");i.variants=i.data("variants").split(","),e.on("change","input",function(n){$.get(e.attr("action"),e.serialize(),function(e){e=parseInt(e),i.text(e+" "+i.variants[t(e)])})});var n=e.find(".js-place"),s=e.find(".js-place-id");n.autoComplete().on("typeahead:selected typeahead:autocomplete",function(t,e){s.val(e.id),$(t.target).trigger("blur")}).on("typeahead:change",function(t){0==s.val()&&n.val("")}).on("keydown",function(t){9!==t.keyCode&&s.val(0)});var o={from:e.find(".js-date-from"),to:e.find(".js-date-to")};e.find(".js-hints").on("click","button",function(t){t.preventDefault();var e=$(this).val().split(",");o.from.datepicker("setDate",e[0]),o.from.val(e[0]),o.to.datepicker("setDate",e[e.length>1?1:0]),o.to.val(e[e.length>1?1:0])})}},$.fn.autoComplete=function(){if(this.exists()){var t=this,e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("value"),queryTokenizer:Bloodhound.tokenizers.whitespace,remote:{url:t.data("src")+"?q=%QUERY",wildcard:"%QUERY"}});return t.typeahead(null,{name:"test",display:"value",source:e,templates:{suggestion:function(t){var e="";return t.suffix&&(e="<span>("+t.suffix+")</span>"),"<div>"+t.value+" "+e+"</div>"}}}),t}},$.fn.quiz=function(){var t=this,e=this.find(".js-quiz-intro"),i=this.find("#quiz-current-question"),n=this.find(".js-quiz-next-question-btn"),s=this.find(".js-quiz-start-again-btn"),o=this.find(".js-quiz-question"),r=(this.find("#quiz-total-questions").text(o.length),e.find(".js-quiz-start-btn")),a=this.find(".js-quiz-progress"),l=this.find(".js-quiz-result"),c=0;return r.click(function(i){i.preventDefault(),e.hide(),o.eq(0).addClass("active").show(),a.show(),$(window).trigger("scroll"),$("body, html").animate({scrollTop:t.offset().top},400)}),o.each(function(){var t=$(this),e=t.data("answer"),i=t.find(".quiz-answer");i.find('input[type="radio"]').change(function(t){+$(this).val()===e?($(this).closest(".quiz-answer").addClass("list-group-item-success"),c++):($(this).closest(".quiz-answer").addClass("list-group-item-danger"),i.find('input[type="radio"][value="'+e+'"]').closest(".quiz-answer").addClass("list-group-item-success")),i.find('input[type="radio"]').prop("disabled","disabled"),n.show()})}),n.click(function(t){t.preventDefault();var e=+i.text(),r=o.filter(".active");r.hide().removeClass("active"),n.hide(),e===o.length-1&&(n.data("next-question-label",n.text()),n.text(n.data("final-question-label"))),e!==o.length?(r.next(".js-quiz-question").addClass("active").show(),$(window).trigger("scroll"),i.text(e+1)):(a.hide(),l.find("#correctAnswers").text(c),l.show(),s.show())}),s.click(function(t){t.preventDefault(),s.hide(),l.hide(),n.text(n.data("next-question-label")),c=0,i.text(1),o.find('input[type="radio"]').removeProp("disabled").removeProp("checked").closest(".quiz-answer").removeClass("list-group-item-success list-group-item-danger"),r.click()}),this},$(function(){global.lang=$("html").attr("lang");var t=$(window),e=$("#toTop");if($("body").removeClass("no-js").addClass("js"),$("#top-banner").banner(),$("[data-click]").dataClick(),$("#form-events").formEvents(),$(".js-input-date").inputDate(),$(".js-img-lazyload").lazyload({effect:"fadeIn",placeholder:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIiAgIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyIgICB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgICB2ZXJzaW9uPSIxLjEiICAgaWQ9InN2ZzM3NjMiICAgY2xhc3M9InVpbC1kZWZhdWx0IiAgIHByZXNlcnZlQXNwZWN0UmF0aW89InhNaWRZTWlkIiAgIHZpZXdCb3g9IjAgMCAxMDAgMTAwIiAgIGhlaWdodD0iMTAwcHgiICAgd2lkdGg9IjEwMHB4Ij4gIDxyZWN0ICAgICBpZD0icmVjdDM3NjUiICAgICBjbGFzcz0iYmsiICAgICBmaWxsPSJub25lIiAgICAgaGVpZ2h0PSIxMDAiICAgICB3aWR0aD0iMTAwIiAgICAgeT0iMCIgICAgIHg9IjAiIC8+ICA8cmVjdCAgICAgaWQ9InJlY3QzNzY3IiAgICAgdHJhbnNmb3JtPSJyb3RhdGUoMCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSIgICAgIGZpbGw9IiMwMDAwMDAiICAgICByeT0iNSIgICAgIHJ4PSI1IiAgICAgaGVpZ2h0PSIyMCIgICAgIHdpZHRoPSI3IiAgICAgeT0iNDAiICAgICB4PSI0Ni41Ij4gICAgPGFuaW1hdGUgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiICAgICAgIGJlZ2luPSIwcyIgICAgICAgZHVyPSIxcyIgICAgICAgdG89IjAiICAgICAgIGZyb209IjEiICAgICAgIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIC8+ICA8L3JlY3Q+ICA8cmVjdCAgICAgaWQ9InJlY3QzNzY5IiAgICAgdHJhbnNmb3JtPSJyb3RhdGUoMzAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCkiICAgICBmaWxsPSIjMDAwMDAwIiAgICAgcnk9IjUiICAgICByeD0iNSIgICAgIGhlaWdodD0iMjAiICAgICB3aWR0aD0iNyIgICAgIHk9IjQwIiAgICAgeD0iNDYuNSI+ICAgIDxhbmltYXRlICAgICAgIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiAgICAgICBiZWdpbj0iMC4wODMzMzMzMzMzMzMzMzMzM3MiICAgICAgIGR1cj0iMXMiICAgICAgIHRvPSIwIiAgICAgICBmcm9tPSIxIiAgICAgICBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiAvPiAgPC9yZWN0PiAgPHJlY3QgICAgIGlkPSJyZWN0Mzc3MSIgICAgIHRyYW5zZm9ybT0icm90YXRlKDYwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApIiAgICAgZmlsbD0iIzAwMDAwMCIgICAgIHJ5PSI1IiAgICAgcng9IjUiICAgICBoZWlnaHQ9IjIwIiAgICAgd2lkdGg9IjciICAgICB5PSI0MCIgICAgIHg9IjQ2LjUiPiAgICA8YW5pbWF0ZSAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgICAgICAgYmVnaW49IjAuMTY2NjY2NjY2NjY2NjY2NjZzIiAgICAgICBkdXI9IjFzIiAgICAgICB0bz0iMCIgICAgICAgZnJvbT0iMSIgICAgICAgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgLz4gIDwvcmVjdD4gIDxyZWN0ICAgICBpZD0icmVjdDM3NzMiICAgICB0cmFuc2Zvcm09InJvdGF0ZSg5MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSIgICAgIGZpbGw9IiMwMDAwMDAiICAgICByeT0iNSIgICAgIHJ4PSI1IiAgICAgaGVpZ2h0PSIyMCIgICAgIHdpZHRoPSI3IiAgICAgeT0iNDAiICAgICB4PSI0Ni41Ij4gICAgPGFuaW1hdGUgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiICAgICAgIGJlZ2luPSIwLjI1cyIgICAgICAgZHVyPSIxcyIgICAgICAgdG89IjAiICAgICAgIGZyb209IjEiICAgICAgIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIC8+ICA8L3JlY3Q+ICA8cmVjdCAgICAgaWQ9InJlY3QzNzc1IiAgICAgdHJhbnNmb3JtPSJyb3RhdGUoMTIwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApIiAgICAgZmlsbD0iIzAwMDAwMCIgICAgIHJ5PSI1IiAgICAgcng9IjUiICAgICBoZWlnaHQ9IjIwIiAgICAgd2lkdGg9IjciICAgICB5PSI0MCIgICAgIHg9IjQ2LjUiPiAgICA8YW5pbWF0ZSAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgICAgICAgYmVnaW49IjAuMzMzMzMzMzMzMzMzMzMzM3MiICAgICAgIGR1cj0iMXMiICAgICAgIHRvPSIwIiAgICAgICBmcm9tPSIxIiAgICAgICBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiAvPiAgPC9yZWN0PiAgPHJlY3QgICAgIGlkPSJyZWN0Mzc3NyIgICAgIHRyYW5zZm9ybT0icm90YXRlKDE1MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSIgICAgIGZpbGw9IiMwMDAwMDAiICAgICByeT0iNSIgICAgIHJ4PSI1IiAgICAgaGVpZ2h0PSIyMCIgICAgIHdpZHRoPSI3IiAgICAgeT0iNDAiICAgICB4PSI0Ni41Ij4gICAgPGFuaW1hdGUgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiICAgICAgIGJlZ2luPSIwLjQxNjY2NjY2NjY2NjY2NjdzIiAgICAgICBkdXI9IjFzIiAgICAgICB0bz0iMCIgICAgICAgZnJvbT0iMSIgICAgICAgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgLz4gIDwvcmVjdD4gIDxyZWN0ICAgICBpZD0icmVjdDM3NzkiICAgICB0cmFuc2Zvcm09InJvdGF0ZSgxODAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCkiICAgICBmaWxsPSIjMDAwMDAwIiAgICAgcnk9IjUiICAgICByeD0iNSIgICAgIGhlaWdodD0iMjAiICAgICB3aWR0aD0iNyIgICAgIHk9IjQwIiAgICAgeD0iNDYuNSI+ICAgIDxhbmltYXRlICAgICAgIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiAgICAgICBiZWdpbj0iMC41cyIgICAgICAgZHVyPSIxcyIgICAgICAgdG89IjAiICAgICAgIGZyb209IjEiICAgICAgIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIC8+ICA8L3JlY3Q+ICA8cmVjdCAgICAgaWQ9InJlY3QzNzgxIiAgICAgdHJhbnNmb3JtPSJyb3RhdGUoMjEwIDUwIDUwKSB0cmFuc2xhdGUoMCAtMzApIiAgICAgZmlsbD0iIzAwMDAwMCIgICAgIHJ5PSI1IiAgICAgcng9IjUiICAgICBoZWlnaHQ9IjIwIiAgICAgd2lkdGg9IjciICAgICB5PSI0MCIgICAgIHg9IjQ2LjUiPiAgICA8YW5pbWF0ZSAgICAgICByZXBlYXRDb3VudD0iaW5kZWZpbml0ZSIgICAgICAgYmVnaW49IjAuNTgzMzMzMzMzMzMzMzMzNHMiICAgICAgIGR1cj0iMXMiICAgICAgIHRvPSIwIiAgICAgICBmcm9tPSIxIiAgICAgICBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiAvPiAgPC9yZWN0PiAgPHJlY3QgICAgIGlkPSJyZWN0Mzc4MyIgICAgIHRyYW5zZm9ybT0icm90YXRlKDI0MCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSIgICAgIGZpbGw9IiMwMDAwMDAiICAgICByeT0iNSIgICAgIHJ4PSI1IiAgICAgaGVpZ2h0PSIyMCIgICAgIHdpZHRoPSI3IiAgICAgeT0iNDAiICAgICB4PSI0Ni41Ij4gICAgPGFuaW1hdGUgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiICAgICAgIGJlZ2luPSIwLjY2NjY2NjY2NjY2NjY2NjZzIiAgICAgICBkdXI9IjFzIiAgICAgICB0bz0iMCIgICAgICAgZnJvbT0iMSIgICAgICAgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgLz4gIDwvcmVjdD4gIDxyZWN0ICAgICBpZD0icmVjdDM3ODUiICAgICB0cmFuc2Zvcm09InJvdGF0ZSgyNzAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCkiICAgICBmaWxsPSIjMDAwMDAwIiAgICAgcnk9IjUiICAgICByeD0iNSIgICAgIGhlaWdodD0iMjAiICAgICB3aWR0aD0iNyIgICAgIHk9IjQwIiAgICAgeD0iNDYuNSI+ICAgIDxhbmltYXRlICAgICAgIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiAgICAgICBiZWdpbj0iMC43NXMiICAgICAgIGR1cj0iMXMiICAgICAgIHRvPSIwIiAgICAgICBmcm9tPSIxIiAgICAgICBhdHRyaWJ1dGVOYW1lPSJvcGFjaXR5IiAvPiAgPC9yZWN0PiAgPHJlY3QgICAgIGlkPSJyZWN0Mzc4NyIgICAgIHRyYW5zZm9ybT0icm90YXRlKDMwMCA1MCA1MCkgdHJhbnNsYXRlKDAgLTMwKSIgICAgIGZpbGw9IiMwMDAwMDAiICAgICByeT0iNSIgICAgIHJ4PSI1IiAgICAgaGVpZ2h0PSIyMCIgICAgIHdpZHRoPSI3IiAgICAgeT0iNDAiICAgICB4PSI0Ni41Ij4gICAgPGFuaW1hdGUgICAgICAgcmVwZWF0Q291bnQ9ImluZGVmaW5pdGUiICAgICAgIGJlZ2luPSIwLjgzMzMzMzMzMzMzMzMzMzRzIiAgICAgICBkdXI9IjFzIiAgICAgICB0bz0iMCIgICAgICAgZnJvbT0iMSIgICAgICAgYXR0cmlidXRlTmFtZT0ib3BhY2l0eSIgLz4gIDwvcmVjdD4gIDxyZWN0ICAgICBpZD0icmVjdDM3ODkiICAgICB0cmFuc2Zvcm09InJvdGF0ZSgzMzAgNTAgNTApIHRyYW5zbGF0ZSgwIC0zMCkiICAgICBmaWxsPSIjMDAwMDAwIiAgICAgcnk9IjUiICAgICByeD0iNSIgICAgIGhlaWdodD0iMjAiICAgICB3aWR0aD0iNyIgICAgIHk9IjQwIiAgICAgeD0iNDYuNSI+ICAgIDxhbmltYXRlICAgICAgIHJlcGVhdENvdW50PSJpbmRlZmluaXRlIiAgICAgICBiZWdpbj0iMC45MTY2NjY2NjY2NjY2NjY2cyIgICAgICAgZHVyPSIxcyIgICAgICAgdG89IjAiICAgICAgIGZyb209IjEiICAgICAgIGF0dHJpYnV0ZU5hbWU9Im9wYWNpdHkiIC8+ICA8L3JlY3Q+PC9zdmc+"}),t.resize($.debounce(250,function(){$(".directory").equalHeight(".directory-item"),$(".js-equal-height-group").equalHeight(".js-equal-height-item")})).resize(),$(".footer ul.collapse").collapsibleFooterList(),$(".js-gallery").photoGallery(),$("#event-search").eventSearch(),$("#map").initMap(),!getCookie("cz_atlasceska_cookieagreement")){var i=jQuery('<div id="cookieAgreement" class="eu-cookies">Tento web pouv k poskytovn slueb, personalizaci reklam a analze nvtvnosti soubory cookie. Pouvnm tohoto webu s tm souhlaste. <button class="btn btn-default">V podku</button></div>');i.appendTo("body"),setCookie("cz_atlasceska_cookieagreement",!0,3650),i.find("button").click(function(){jQuery(this).parent().remove()})}$("#quiz").quiz(),e.click(function(){$("body, html").animate({scrollTop:0},1e3)}),t.scroll($.throttle(250,function(){e.toggleClass("in",t.scrollTop()>100)}))});